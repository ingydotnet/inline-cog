<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="http://getbootstrap.com/favicon.ico">

  <title></title>

  <!-- Bootstrap core CSS -->
  <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/blog.css" rel="stylesheet">
  <link href="css/cog.css" rel="stylesheet">

  <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
  <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
  <script src="http://getbootstrap.com/assets/js/ie-emulation-modes-warning.js"></script>

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
  <body>
<div class="blog-masthead">
  <div class="container">
    <nav class="blog-nav">
      <a class="blog-nav-item active" href="/">Home</a>
<!--
      <a class="blog-nav-item" href="#">New features</a>
      <a class="blog-nav-item" href="#">Press</a>
      <a class="blog-nav-item" href="#">New hires</a>
      <a class="blog-nav-item" href="#">About</a>
-->
    </nav>
  </div>
</div>
    <div class="container">
<div class="blog-header">
  <h1 class="blog-title">The TPF Inline Grant Info Site</h1>
  <p class="lead blog-description">Up to date information on The Perl Foundation's 2014 grant for Inline.pm.</p>
</div>
      <div class="row">
        <div class="col-sm-8 blog-main">
              <div class="blog-post">
  <h2 class="blog-post-title">Inline Grant Weekly Report #2</h2>
  <p class="blog-post-meta">
    November 2, 2014    by
    <a href="page/ingy-and-david-bio.html">Ingy and David</a>
  </p>
  <p>This week was a little bit slower but we made progress. We released new versions of <code>Acme::Math::XS</code> and created/released <code>Acme::Math::XS::XS</code>. The two modules are the same except the former uses <code>Inline::Module</code> and the latter uses plain old XS. The idea is to get them both working identically so that there is something concrete to compare.</p>

<p>We did a bit of yak shaving early in the week. We wrote our own blog site software that we are growing up organically. We also patched and released <code>Swim.pm</code>, the markup formatter that all our writings are written in. We are trying to balance staying focused on finishing the grant on time, and also spawning as much cool stuff as we can along the way.</p>

<p>Speaking of cool, we do all our work in a shared dev environment called PairUp™. It works wonderfully, but we wanted others to be able to watch along too (televised pair programming). The way to do this is with termcasting which shows the tmux session in a webpage, so anyone can watch along. Combine this with IRC, and it gets awesome. Unfortunately our termcasting setup was failing us. Fortunately we found <code>doy++</code> on IRC, brought him into our pairup, had him fix things (he&#39;s the master of termcasting) and then we got it working. Come by #inline sometime and watch for yourself.</p>

<p>We further honed the Inline::Module dance. I&#39;ll try to explain it. When you create a module like <code>Foo::XS</code>, the <code>lib/Foo/XS.pm</code> module has a line like this:</p>

<pre><code>use Foo::XS::Inline C =&gt; &quot;…&quot;;
</code></pre>

<p>That means you need a <code>lib/Foo/XS/Inline.pm</code>, and you get that with:</p>

<pre><code>&gt; perl-inline-module create Foo::XS::Inline
</code></pre>

<p>The new, generated module looks (more or less) like this:</p>

<pre><code>package Foo::XS::Inline;
use base &#39;Inline&#39;;
use Inline::Module &#39;v1&#39; =&gt; &#39;0.02&#39;;
</code></pre>

<p>When you run tests, this module uses <code>Inline::C</code> to build the <code>C</code> under <code>blib/</code> like normal XS.</p>

<p>Now, here&#39;s the trick (and we haven&#39;t actually gotten it working yet)… when it&#39;s time build the dist we rearrange things:</p>

<ol>
<li>The version of <code>::Inline</code> above goes into the <code>inc/</code> directory</li>
<li>The <code>::Inline</code> under lib becomes a small Dynaloader invoking module
<ul>
<li>This is what gets installed user side</li>
</ul>

</li>
<li>The Makefile system is tweaked to build the Inline code at <code>make</code> time</li>
</ol>

<p>We should get this working in the next couple days. Note that the whole point here is to make something that:</p>

<ul>
<li>Works as good or better than hand-XS</li>
<li>Is easy to distribute using any popular setup</li>
<li>Installs stuff identically to XS</li>
<li>Has <strong>no</strong> user dependencies (including no dep on anything Inline)</li>
</ul>

<p>In other news, David released <code>Inline::CPP</code> five times and got his cpantester&#39;s PASS rate up to an all-time high of 99.4%.</p>
</div>
<hr />
                      <div class="blog-post">
  <h2 class="blog-post-title">Inline Grant Weekly Report #1</h2>
  <p class="blog-post-meta">
    October 25, 2014    by
    <a href="page/ingy-and-david-bio.html">Ingy and David</a>
  </p>
  <p>We (David and Ingy) had a productive week bootstrapping the <strong>Inline-for-XS-Modules</strong> project. Our primary optimization flags are:</p>

<pre><code>-Opublic
-Oagile
-Ocreative
-Ofun
</code></pre>

<p>Here are some highlights:</p>

<ul>
<li>All work being done publicly:
<ul>
<li>David and Ingy code in remote <strong>PairUp™</strong> session (tmux)</li>
<li>All realtime communication in <strong>IRC</strong> (irc.perl.org#inline)</li>
<li>Tmux to be <strong>termcast</strong>ed soon (live terminal in a browser)</li>
<li>If you are interested, come join us!</li>
</ul>

</li>
<li>Figured out a decent <strong>Inline Module API</strong> strategy
<ul>
<li>Authors do 3 simple new things to ship Inline code to CPAN</li>
<li><strong>No end-user dependency</strong> on Inline for these modules</li>
<li>End result is essentially same as hand written XS</li>
</ul>

</li>
<li>Plans to support:
<ul>
<li>5-6 build systems: ie <code>Dist::Zilla</code>, <code>Module::Build</code>, etc</li>
<li>Many Inline languages (other than C/C++ <em>might</em> work)</li>
<li>Different extension module use cases: inline/external/libraries</li>
</ul>

</li>
<li>Created specification document: <a href="http://inline.ouistreet.com/node/v3e7.html">http://inline.ouistreet.com/node/v3e7.html</a></li>
<li>Released two new CPAN modules:
<ul>
<li><strong>Inline::Module</strong> (The majority of the grant coding)</li>
<li><strong>Acme::Math::XS</strong> (first test module using Inline::C)</li>
</ul>

</li>
<li>Created a <strong>new blog site</strong> to document the Inline Grant Project
<ul>
<li><a href="http://inline.ouistreet.com/">http://inline.ouistreet.com/</a></li>
<li>A new site using some of our other loved technologies: Cog, Coffee, make, Swim, Jemplate, gh-pages, BootStrap</li>
</ul>

</li>
</ul>

<p>It is our hope to finish out most of the work in the next 2 weeks, and then work on bug reports after that. We plan to keep putting out blog posts/reports for at least a couple months after the grant is complete. We believe this work will make Extension Module Authoring a lot more accessible, and we want to keep the energy flowing.</p>

<p>Here&#39;s a tiny example of how to make an Inline Extension Module. Take this one-liner:</p>

<pre><code>perl -E &#39;use Inline C=&gt;&quot;int add(int a, int b)&#123;return a+b;&#125;&quot;;say add(2,2)&#39;
</code></pre>

<p>Turn it into this module:</p>

<pre><code>package Acme::Math::XS;
our $VERSION = &#39;0.0.1&#39;;
use Acme::Math::XS::Inline C =&gt; &quot;int add(int a, int b) &#123;return a + b;&#125;&quot;;
</code></pre>

<p>Install Inline::Module:</p>

<pre><code>cpanm Inline::Module
</code></pre>

<p>Run this command line:</p>

<pre><code>&gt; perl-inline-module create Acme::Math::XS::Inline
</code></pre>

<p>Add this line to your <code>dist.ini</code>:</p>

<pre><code>[InlineModule]
</code></pre>

<p>Ship it:</p>

<pre><code>dzil release
</code></pre>

<p>One advantage we&#39;ve seen so far is that simple developer testing, just works:</p>

<pre><code>prove -l t/
</code></pre>

<p>There&#39;s no need to run <code>make</code> to build the C/C++/XS in <code>blib</code> and then add <code>-b</code> to the <code>prove</code> flags, because this is <strong>Inline</strong>!</p>
</div>
<hr />
                            <div class="blog-post">
  <h2 class="blog-post-title">Inline Grant Accepted</h2>
  <p class="blog-post-meta">
    October 20, 2014    by
    <a href="page/ingy-and-david-bio.html">Ingy and David</a>
  </p>
  <p>(or <strong>How I Learned to Stop Worrying and Love The Perl</strong>)</p>

<p>Last week I returned from 3 weeks of adventure in Berlin and Netherland. Funny story… the night I arrived at Liz and Wendy&#39;s place, I was made aware of 2 things:</p>

<ul>
<li>Liz is on the TPF grant board</li>
<li>She had a surprise for me, but couldn&#39;t tell me until midnight :)</li>
</ul>

<p>Spoiler: <a href="http://news.perlfoundation.org/2014/09/grant-proposal-inlinecpp-modul.html">The Inline Grant</a> was approved!</p>

<p>The following evening, I attended the amsterdamx.pm (expats) at Booking.com++ HQ, and upon entering the meeting room, was asked by SawyerX if I could give a talk since ribasushi was stuck in traffic. Huh? WTF? Definitely! :) In the kind of coincidence that only happens regularly in the world of Perl, Karen Pauley happened to be there as well, not to mention Stevan, Jarrko and Dan Kogai! I rambled on about a dozen things that were currently loaded into ingy-RAM, but held off on talking about the grant as it hadn&#39;t been made public just yet.</p>

<p>7 days to the minute later I gave a talk at amsterdam.pm and the main subject was the Inline grant. Instead of a talk, I gave a &quot;listen&quot;! I asked everyone there how they would go about actually implementing the grant solution. I got a lot of ideas, and since then I think I&#39;ve figured it out. Stay tuned…</p>

<h2>Welcome to the Inline Grant blog!</h2>

<p>I think this is the first TPF grant to be given to a pair of pair programmers! David and I want to make things as open as we can, so we plan to give weekly updates in addition to the TPF monthly status updates.</p>

<p>Today (October 20th) marks the start of work in earnest on the grant. The delay is due to my unexpected but most fruitful trip to Europe. I&#39;m dejetlagged and ready to hack! David has also just finished a lovely family vacation (to Zion and Bryce National Parks (YAPC::15 attendees with wheels should take note!)).</p>

<p>We really want to thank the community for this opportunity to make Perl better!</p>
</div>
<hr />
              </div><!-- /.blog-main -->
<div class="col-sm-3 col-sm-offset-1 blog-sidebar">
  <div class="sidebar-module sidebar-module-inset">
  <h4>About</h4>
  <p>This site has the latest info about the progress of the TPF grant for Inline.pm</p>
  </div>
  <div class="sidebar-module">
  <h4>Archives</h4>
  <ol class="list-unstyled">
    <li><a href="#">October 2014</a></li>
  </ol>
  </div>
<!--
  <div class="sidebar-module">
  <h4>Elsewhere</h4>
  <ol class="list-unstyled">
    <li><a href="#">GitHub</a></li>
    <li><a href="#">Twitter</a></li>
    <li><a href="#">Facebook</a></li>
  </ol>
  </div>
-->
</div><!-- /.blog-sidebar -->

      </div><!-- /.row -->
    </div><!-- /.container -->
<!--
  <div class="blog-footer">
    <p>Blog template built for <a href="http://getbootstrap.com/">Bootstrap</a> by <a href="https://twitter.com/mdo">@mdo</a>.</p>
    <p>
      <a href="#">Back to top</a>
    </p>
  </div>
-->
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="http://getbootstrap.com/dist/js/bootstrap.min.js"></script>
<script src="http://getbootstrap.com/assets/js/docs.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="http://getbootstrap.com/assets/js/ie10-viewport-bug-workaround.js"></script>

<!-- Cog JS
================================================== -->
<script src="js/all.js"></script>
  </body>
</html>
